<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Predict the exposure-response function at a new grid of points"><title>Predict the exposure-response function at a new grid of points — PredictorResponseBivar • bkmr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict the exposure-response function at a new grid of points — PredictorResponseBivar"><meta property="og:description" content="Predict the exposure-response function at a new grid of points"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bkmr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Example_analysis.html">Example_analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jenfb/bkmr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Predict the exposure-response function at a new grid of points</h1>
      <small class="dont-index">Source: <a href="https://github.com/jenfb/bkmr/blob/HEAD/R/PredictorResponseFunctions.R" class="external-link"><code>R/PredictorResponseFunctions.R</code></a></small>
      <div class="d-none name"><code>PredictorResponseBivar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Predict the exposure-response function at a new grid of points</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PredictorResponseBivar</span><span class="op">(</span></span>
<span>  <span class="va">fit</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Z <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  X <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  z.pairs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"approx"</span>,</span>
<span>  ngrid <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  q.fixed <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  sel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min.plot.dist <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  z.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">Z</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>fit</dt>
<dd><p>An object containing the results returned by a the <code>kmbayes</code> function</p></dd>


<dt>y</dt>
<dd><p>a vector of outcome data of length <code>n</code>.</p></dd>


<dt>Z</dt>
<dd><p>an <code>n</code>-by-<code>M</code> matrix of predictor variables to be included in the <code>h</code> function. Each row represents an observation and each column represents an predictor.</p></dd>


<dt>X</dt>
<dd><p>an <code>n</code>-by-<code>K</code> matrix of covariate data where each row represents an observation and each column represents a covariate. Should not contain an intercept column.</p></dd>


<dt>z.pairs</dt>
<dd><p>data frame showing which pairs of predictors to plot</p></dd>


<dt>method</dt>
<dd><p>method for obtaining posterior summaries at a vector of new points. Options are "approx" and "exact"; defaults to "approx", which is faster particularly for large datasets; see details</p></dd>


<dt>ngrid</dt>
<dd><p>number of grid points in each dimension</p></dd>


<dt>q.fixed</dt>
<dd><p>vector of quantiles at which to fix the remaining predictors in <code>Z</code></p></dd>


<dt>sel</dt>
<dd><p>logical expression indicating samples to keep; defaults to keeping the second half of all samples</p></dd>


<dt>min.plot.dist</dt>
<dd><p>specifies a minimum distance that a new grid point needs to be from an observed data point in order to compute the prediction; points further than this will not be computed</p></dd>


<dt>center</dt>
<dd><p>flag for whether to scale the exposure-response function to have mean zero</p></dd>


<dt>z.names</dt>
<dd><p>optional vector of names for the columns of <code>z</code></p></dd>


<dt>verbose</dt>
<dd><p>TRUE or FALSE: flag of whether to print intermediate output to the screen</p></dd>


<dt>...</dt>
<dd><p>other arguments to pass on to the prediction function</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a long data frame with the name of the first predictor, the name of the second predictor, the value of the first predictor, the value of the second predictor, the posterior mean estimate, and the posterior standard deviation of the estimated exposure response function</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For guided examples, go to <a href="https://jenfb.github.io/bkmr/overview.html" class="external-link">https://jenfb.github.io/bkmr/overview.html</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## First generate dataset</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">111</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="SimData.html">SimData</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, M <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span><span class="va">Z</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">Z</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">X</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fit model with component-wise variable selection</span></span></span>
<span class="r-in"><span><span class="co">## Using only 100 iterations to make example run quickly</span></span></span>
<span class="r-in"><span><span class="co">## Typically should use a large number of iterations for inference</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">111</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fitkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="kmbayes.html">kmbayes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">y</span>, Z <span class="op">=</span> <span class="va">Z</span>, X <span class="op">=</span> <span class="va">X</span>, iter <span class="op">=</span> <span class="fl">100</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>, varsel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 10 (10% completed; 0.00909 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 20 (20% completed; 0.01461 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 30 (30% completed; 0.01961 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 40 (40% completed; 0.02459 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 50 (50% completed; 0.03012 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 60 (60% completed; 0.03524 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 70 (70% completed; 0.04029 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 80 (80% completed; 0.04559 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 90 (90% completed; 0.05073 secs elapsed)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Iteration: 100 (100% completed; 0.05583 secs elapsed)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain predicted value on new grid of points for each pair of predictors</span></span></span>
<span class="r-in"><span><span class="co">## Using only a 10-by-10 point grid to make example run quickly</span></span></span>
<span class="r-in"><span><span class="va">pred.resp.bivar</span> <span class="op">&lt;-</span> <span class="fu">PredictorResponseBivar</span><span class="op">(</span>fit <span class="op">=</span> <span class="va">fitkm</span>, min.plot.dist <span class="op">=</span> <span class="fl">1</span>, ngrid <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 1 out of 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 2 out of 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 3 out of 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 4 out of 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 5 out of 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Pair 6 out of 6</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jennifer F. Bobb.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

